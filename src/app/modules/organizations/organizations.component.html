
<mat-toolbar>
  <span class="spacer"></span>
  <button mat-raised-button (click)="openCreateDialog()">
    <mat-icon>add</mat-icon>
    Agregar nuevo
  </button>
</mat-toolbar>



<app-material-table [dataSourceMat]="dataSourceMat" [displayedColumns]="displayedColumns">
  <table mat-table [dataSource]="dataSourceMat" class="mat-elevation-z8" matSort>
    <!-- Columnas específicas para OrganizationsComponent -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
      <td mat-cell *matCellDef="let element">{{ element.name }}</td>
    </ng-container>

    <ng-container matColumnDef="director">
      <th mat-header-cell *matHeaderCellDef> Director </th>
      <td mat-cell *matCellDef="let element">
        <ng-container *ngIf="isObject(element.director); else displayDirector">
          {{ element.director.firstName }} {{ element.director.lastName }}
        </ng-container>
        <ng-template #displayDirector>
          {{ element.director }}
        </ng-template>
      </td>
    </ng-container>

    <ng-container matColumnDef="role">
      <th mat-header-cell *matHeaderCellDef> Rol </th>
      <td mat-cell *matCellDef="let element">{{ element.role }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Acciones </th>
      <td mat-cell *matCellDef="let element">
        <a class="cursoPointer" (click)="editOrganization(element)" style="color: #ffff00; margin-right: 10px">
          <mat-icon matTooltip="Editar organización">edit_document</mat-icon>
        </a>
        <a class="cursoPointer" *ngIf="!element.enabled" (click)="activateOrganization(element._id, element.enabled)" style="color: #00bb2d; margin-right: 10px">
          <mat-icon matTooltip="Activar organización">check_circle</mat-icon>
        </a>
        <a class="cursoPointer" *ngIf="element.enabled" (click)="activateOrganization(element._id, element.enabled)" style="color: #b50811; margin-right: 10px;">
          <mat-icon matTooltip="Desactivar organización">cancel</mat-icon>
        </a>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</app-material-table>
