<div class="container" >
  <mat-card class="edit-card">
    <mat-card-header>
      <mat-card-title>
        <h2>Editar usuario</h2>
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form autocomplete="off" [formGroup]="formEditUser" (ngSubmit)="updateUser()">
        <mat-form-field appearance="outline">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="firstName">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Apellidos</mat-label>
          <input matInput formControlName="lastName">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput  >
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Contrase√±a</mat-label>
          <input matInput type="password" formControlName="password">
        </mat-form-field>


        <mat-form-field appearance="outline">
          <mat-label>Rol</mat-label>
          <mat-select formControlName="role">
            <mat-option *ngFor="let role of roles" [value]="role">
              {{ role }}
            </mat-option>
          </mat-select>
        </mat-form-field>


        <mat-form-field appearance="outline">
          <mat-label>Jefe</mat-label>
          <input matInput formControlName="boss" [matAutocomplete]="auto" (input)="filterUsers($event)">
          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayUserName">
            <mat-option *ngFor="let user of bossUsers" [value]="user._id">
              {{user.firstName}} {{user.lastName}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Avatar</mat-label>
          <input type="file" (change)="onFileSelected($event)" accept="image/*" style="display: none;" #fileInput>
          <mat-icon matPrefix (click)="fileInput.click()">attach_file</mat-icon>
          <input matInput placeholder="Selecciona un archivo" [value]="avatarName" readonly>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Departamento</mat-label>
          <mat-select formControlName="departments" multiple>
            <mat-option *ngFor="let depa of departments" [value]="depa._id">
              {{ depa.name }} - {{ depa.organization.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-checkbox formControlName="reporter">Reporter</mat-checkbox>

        <button mat-raised-button color="accent" type="submit">Guardar cambios</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
