<div class="container">
  <mat-toolbar>
    <span class="spacer"></span>
    <button mat-raised-button color="primary" (click)="createUser()">
      <mat-icon>add</mat-icon>
      Agregar nuevo
    </button>
  </mat-toolbar>
  <app-material-table [dataSourceMat]="dataSourceMat" [displayedColumns]="displayedColumns">
    <table mat-table [dataSource]="dataSourceMat" class="mat-elevation-z8" matSort>
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre completo</th>
        <td mat-cell *matCellDef="let element">{{element.firstName}} {{element.lastName}}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Correo electronico</th>
        <td mat-cell *matCellDef="let element">{{element.email}}</td>
      </ng-container>
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Rol</th>
        <td mat-cell *matCellDef="let element">{{element.role}}</td>
      </ng-container>
      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef>Acciones</th>
        <td mat-cell *matCellDef="let element; let i = index">
          <!--   Editar usuario     -->
          <a class="cursoPointer" (click)="$event.stopPropagation(); editUser(element)" style="color: #ffff00;margin-right: 10px" *ngIf="editUserFlag">
            <mat-icon matTooltip="Ediar usuario">edit_document</mat-icon>
          </a>
          <!--   Activar usuario     -->
          <a class="cursoPointer" *ngIf="element.enabled == false && enableUserFlag" (click)="enableUSer(element._id)" style="color: #00bb2d;margin-right: 10px">
            <mat-icon matTooltip="Activar usuario">person</mat-icon>
          </a>

          <!--   Desactivar usuario     -->
          <a class="cursoPointer" *ngIf="element.enabled == true && disableUserFlag" (click)="disableUser(element._id)" style="color: #b50811;margin-right: 10px;">
            <mat-icon matTooltip="Desactivar usuario">person_off</mat-icon>
          </a>

          <!--   Correo de validación     -->
          <a class="cursoPointer" (click)="sendVerificationCode(element.email)" style="color: #0062bb;margin-right: 10px">
            <mat-icon matTooltip="Enviar correo de validación">outgoing_mail</mat-icon>
          </a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </app-material-table>

</div>
