<mat-toolbar>
  <span class="spacer"></span>
  <button mat-raised-button (click)="addHelpTopic()">
    <mat-icon>add</mat-icon>
    Agregar nuevo
  </button>
</mat-toolbar>

<app-material-table [dataSourceMat]="dataSourceMat" [displayedColumns]="displayedColumns">
  <table mat-table [dataSource]="dataSourceMat" class="mat-elevation-z8" matSort>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Titulo </th>
      <td mat-cell *matCellDef="let helpTopic"> {{ helpTopic.name }} </td>
    </ng-container>

    <ng-container matColumnDef="tags" >
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Etiquetas </th>
      <td mat-cell *matCellDef="let helpTopic"> {{ helpTopic.tags.join(', ') }} </td>
    </ng-container>

    <ng-container matColumnDef="department">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Departamento </th>
      <td mat-cell *matCellDef="let helpTopic"> {{ helpTopic.departmentName }} </td>
    </ng-container>

    <ng-container matColumnDef="expIn">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Tiempo definido </th>
      <td mat-cell *matCellDef="let helpTopic">
        {{ minutes2String(helpTopic.expIn) }}
      </td>
    </ng-container>


    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Acciones </th>
      <td mat-cell *matCellDef="let element">
        <a class="cursoPointer" (click)="editHelpTopic(element)" style="color: #ffff00; margin-right: 10px">
          <mat-icon matTooltip="Editar tema de ayuda">edit_document</mat-icon>
        </a>

        <a class="cursoPointer" *ngIf="!element.enabled"
           (click)="activateHelpTopic(element._id, element.enabled)"
           style="color: #00bb2d; margin-right: 10px">
          <mat-icon matTooltip="Activar tema de ayuda">check_circle</mat-icon>
        </a>
        <a class="cursoPointer" *ngIf="element.enabled"
           (click)="activateHelpTopic(element._id, element.enabled)"
           style="color: #b50811; margin-right: 10px;">
          <mat-icon matTooltip="Desactivar tema de ayuda">cancel</mat-icon>
        </a>

      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</app-material-table>
